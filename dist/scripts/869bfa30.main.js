!function(a){function b(){console.log("Init"),y=a("#work"),e(),f(),c()}function c(){a(window).bind("main-breakpoint-change",h),a(window).resize(function(){w&&clearTimeout(w),w=setTimeout(d,50)})}function d(){console.log("Resize");var a=g();(a&&!x||!a&&x)&&h()}function e(){for(var a,b=0;b<z.items.length;b++){a=z.items[b],a.images=[];for(var c=0;c<a.totalImages;c++)a.images.push("/images/"+a.id+"/"+(c+1)+".jpg");a.imagePath=a.images[0]}console.log("Init image paths:",z.items)}function f(){a("#work").empty(),console.log("Setup"),x=g(),x?(console.log("Mobile view"),q(),j()):(console.log("Desktop view"),r(),i())}function g(){return a(window).width()<720}function h(){console.log("Main breakpoint change"),f()}function i(){console.log("Render main view"),p(),o();var a=Math.ceil(z.items.length/3);console.log("Thumbnail rows: "+a);for(var b=1;a>=b;b++)$row=k(z.items.slice(3*(b-1),3*b)),y.append($row)}function j(){console.log("Render mobile view"),o();for(var b,c=a(document.createDocumentFragment()),d=0;d<z.items.length;d++)b=z.items[d],c.append(l(b));console.log("Append",c),a("#work").append(c)}function k(b){console.log("Get row view",b);var c,d=a(document.createDocumentFragment()),e=a("<div />").addClass("row clearfix");d.append(e);for(var f=0;f<b.length;f++)c=b[f],c.thumbPath="/images/"+c.id+"/thumb.jpg",$thumbnail=a(Mustache.render(v,c)),$thumbnail.click(m),e.append($thumbnail);return d}function l(b){console.log("Get work item view",b);var c=a(Mustache.render(u,b));return c.find("a.select-image").click(n),c.find(".image-selector li:first-child").addClass("selected"),c}function m(b){for(var c,d=a(b.currentTarget),e=d.parents(".row"),f=d.attr("data-work"),g=0;g<z.items.length;g++)if(z.items[g].id===f){c=z.items[g];break}console.log(f+" selected"),console.log(c),a(".work").remove(),e.after(l(c)),s([{imageLocation:"/images/"+c.id+"/1.jpg",item:c}],"work")}function n(b){b.preventDefault(),console.log(b.currentTarget);var c=a(b.currentTarget);c.parents("ul").children("li").removeClass("selected"),c.parents("li").addClass("selected");var d=c.parents(".work").find("img"),e=c.attr("href");console.log(e),d.attr("src",e)}function o(){u||(console.log("Load work template"),u=a("#template-work").html())}function p(){v||(console.log("Load work thumbnail template"),v=a("#template-work-thumbnail").html())}function q(){console.log("Load mobile assets");for(var a,b,c=[],d=0;d<z.items.length;d++)a=z.items[d],b=a.images[0],c.push({imageLocation:b,item:a});console.log("Assets to load:"),console.log(c),s(c,"work")}function r(){console.log("Load main assets");for(var a,b,c=[],d=0;d<z.items.length;d++)a=z.items[d],console.log("item",a),b="/images/"+z.items[d].id+"/thumb.jpg",c.push({imageLocation:b,item:a});console.log("Assets to load:"),console.log(c),s(c,"thumbnail")}function s(a,b){if(0!==a.length){var c=a[0];console.log("Next to load: ",c);var d=new Image;d.onload=function(){t(a,b)},d.src=c.imageLocation}}function t(a,b){var c=a.shift();console.log("Asset loaded",c);var d="."+b+"."+c.item.id;y.find(d).removeClass("loading"),s(a,b)}var u,v,w,x,y,z={items:[{id:"cadbury",name:"Cadbury",summary:"Design, UI, Social Media, Responsive site",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been prodeminantly on the giving platforms where I’ve been the lead designer. The projects are agile and I worked closely with the developers, projects mangers and marketing as well as the in house design team.",totalImages:2},{id:"itv",name:"ITV",summary:"Design, UI, Social Media, Responsive site",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been prodeminantly on the giving platforms where I’ve been the lead designer. The projects are agile and I worked closely with the developers, projects mangers and marketing as well as the in house design team",totalImages:2},{id:"silver-spoon",name:"Silver Spoon",summary:"Concepts, Design, UI, UX, Layout",description:"I got the chance to design the new Silver Spoon site while freelancing at CMW.",totalImages:2},{id:"boomerang",name:"Boomerang",summary:"Design, UI, Social Meida, Responsive site",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been prodeminantly on the giving platforms where I’ve been the lead designer. The projects are agile and I worked closely with the developers, projects mangers and marketing as well as the in house design team.",totalImages:2},{id:"stylist",name:"Stylist",summary:"Design, UI, UX, Wireframes, Layout",description:"In 2010 I was lucky enough to work on the Stylist website as lead designer while working full time at Clock. Taking inspiration from the magazine, I put together the homepage, article and video pages, once those were designed the rest of the site was taken from these templates. The site was briefed to be like an online version of the printed magazine, clean and friendly with a strong fashion edge. The site is still being used today.",totalImages:2},{id:"archive",name:"From the Archive",summary:"Design, Illustration, Concepts",description:"During my time working at my first job with Real 451 I got to work on various projects for TFL. We were asked to design the Oystercard welcome screens for the underground. They had to be fairly abstract but show an element of movement and colours you associate with the underground network. They ended up using these 3 of my designs.",totalImages:3},{id:"ocado",name:"Ocado",summary:"Design, UI, Social Media, Emails, Concepts",description:"I was freelancing with Ocado for 5 months. During that time I worked on a number of projects including a marketing campaign for the spring cleaning event. That involved creating concepts and then working up the chosen idea and expanding it across the site- emails, social media, backgrounds, etc. I also made numerous emails, I create the weekly newsletter which really allowed creative freedom.",totalImages:4},{id:"comic-relief",name:"Design, UI, Social Meida, Responsive site",summary:"Design, UI, UX, Wireframes, Layout",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been predeminantly on the giving platforms where I’ve been the lead designer. Working in an Agile team I was in constant contact with the developers, projects mangers and marketing as well as the in house design team. Other projects there included email design, banners and pages for the main site.",totalImages:4},{id:"yeyah",name:"Yeyah",summary:"Design, Print, Illustration, Branding",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been prodeminantly on the giving platforms where I’ve been the lead designer. The projects are agile and I worked closely with the developers, projects mangers and marketing as well as the in house design team.",totalImages:4},{id:"asos",name:"ASOS",summary:"Design, Print, Illustration, Branding",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been prodeminantly on the giving platforms where I’ve been the lead designer. The projects are agile and I worked closely with the developers, projects mangers and marketing as well as the in house design team. ",totalImages:2},{id:"halloween",name:"Halloween Flyers and Poster",summary:"Design, Print, Illustration",description:"I’ve worked at Comic Relief over the past 3 years on Sport Relief 2012 and 2014 and a Red Nose Day 2013. My work has been prodeminantly on the giving platforms where I’ve been the lead designer. The projects are agile and I worked closely with the developers, projects mangers and marketing as well as the in house design team. ",totalImages:2}]};a(document).ready(function(){console.log("Ready"),b()})}(jQuery);